<div class="fixed bottom-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none">
  @for (toast of toastService.toasts(); track toast.id) {
    
    <div class="pointer-events-auto flex items-start gap-3 w-80 p-4 rounded-xl shadow-lg border bg-white dark:bg-[#023047] transform transition-all duration-300 ease-in-out"
         [ngClass]="{
           'translate-x-full opacity-0 scale-95': toast.closing,
           'animate-in slide-in-from-right-8 fade-in zoom-in-95': !toast.closing,
           
           'border-emerald-500/30 dark:border-emerald-500/20': toast.type === 'success',
           'border-red-500/30 dark:border-red-500/20': toast.type === 'error',
           'border-[#FB8500]/30 dark:border-[#FFB703]/20': toast.type === 'warning'
         }">
      
      <div class="flex-shrink-0 mt-0.5" 
           [ngClass]="{
             'text-emerald-500': toast.type === 'success',
             'text-red-500': toast.type === 'error',
             'text-[#FB8500] dark:text-[#FFB703]': toast.type === 'warning'
           }">
        <lucide-icon [img]="toastService.getIcon(toast.type)" class="w-5 h-5" [strokeWidth]="2.5"></lucide-icon>
      </div>

      <div class="flex-1 min-w-0 pt-0.5">
        @if (toast.title) {
          <h4 class="text-sm font-bold text-[#023047] dark:text-white mb-0.5">{{toast.title}}</h4>
        }
        <p class="text-sm text-gray-600 dark:text-[#8ECAE6]/90 leading-tight">{{toast.message}}</p>
      </div>

      <button (click)="toastService.triggerClose(toast.id)" 
              class="flex-shrink-0 -mt-1 -mr-1 p-1.5 rounded-lg text-gray-400 hover:text-gray-600 dark:text-[#8ECAE6]/50 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/10 transition-colors outline-none">
        <lucide-icon [img]="toastService.icons.X" class="w-4 h-4" [strokeWidth]="2.5"></lucide-icon>
      </button>

    </div>

  }
</div>