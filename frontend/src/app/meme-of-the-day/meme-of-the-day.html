<div class="min-h-screen bg-bg-main pt-16 pb-12 transition-colors duration-200">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <div class="mb-8 text-center flex flex-col items-center">
      <div class="p-3 bg-accent/10 rounded-full mb-4">
        <lucide-icon [img]="icons.Trophy" class="w-10 h-10 text-accent"></lucide-icon>
      </div>
      <h1 class="text-3xl font-bold text-text-main mb-2 flex items-center gap-2 justify-center">
        Meme del Giorno
      </h1>
      <p class="text-sm text-text-muted">
        Il contenuto più votato e apprezzato dalla community nelle ultime 24 ore!
      </p>
    </div>

    @if (isLoading()) {
      <div class="w-full h-64 flex flex-col items-center justify-center gap-4">
        <lucide-icon [img]="icons.Loader2" class="w-10 h-10 text-accent animate-spin"></lucide-icon>
        <p class="text-text-muted animate-pulse font-medium">Ricerca del vincitore in corso...</p>
      </div>
    }

    @if (!isLoading() && meme()) {
      <div class="bg-bg-card rounded-2xl shadow-xl border border-border-main overflow-hidden transition-colors duration-200">
        
        <div class="p-6 border-b border-border-main flex items-center justify-between">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-bg-main flex items-center justify-center border border-border-main">
              <lucide-icon [img]="icons.User" class="w-5 h-5 text-text-muted"></lucide-icon>
            </div>
            <div>
              <p class="text-sm font-bold text-text-main">{{ meme().author }}</p>
              <p class="text-xs text-text-muted">{{ meme().date | date: 'dd MMMM yyyy' }}</p>
            </div>
          </div>
        </div>

        <div class="relative bg-bg-main flex justify-center items-center min-h-[300px] p-4">
          <img [src]="meme().imageUrl" [alt]="meme().title" class="max-h-[600px] object-contain rounded-lg shadow-sm">
        </div>

        <div class="p-6">
          <h2 class="text-2xl font-bold text-text-main mb-2">{{ meme().title }}</h2>
          <p class="text-text-muted mb-6">{{ meme().description }}</p>

          <div class="flex flex-wrap gap-2 mb-6">
            @for (tag of meme().tags; track tag) {
              <span class="px-3 py-1 bg-bg-main text-text-main text-xs font-semibold rounded-full border border-border-main">
                #{{ tag }}
              </span>
            }
          </div>

          <div class="flex items-center justify-between pt-4 border-t border-border-main">
            <button [routerLink]="['/viewmeme', meme().id]"
                    class="w-full flex items-center justify-center gap-2 bg-accent hover:bg-accent-hover text-white py-3 px-6 rounded-xl font-bold transition-all shadow-md hover:shadow-lg">
              Vedi e Commenta
              <div class="flex items-center gap-3 ml-2 border-l border-white/30 pl-3">
                <div class="flex items-center gap-1">
                  <lucide-icon [img]="icons.Heart" class="w-4 h-4"></lucide-icon>
                  <span>{{ meme().likes || 0 }}</span>
                </div>
                <div class="flex items-center gap-1">
                  <lucide-icon [img]="icons.MessageCircle" class="w-4 h-4"></lucide-icon>
                  <span>{{ meme().comments || 0 }}</span>
                </div>
              </div>
            </button>
          </div>

        </div>
      </div>
    }

    @if (!isLoading() && !meme()) {
      <div class="text-center py-12 bg-bg-card rounded-2xl shadow-lg border border-border-main transition-colors duration-200">
        <lucide-icon [img]="icons.Calendar" class="w-12 h-12 mx-auto text-text-muted mb-4 opacity-50"></lucide-icon>
        <h3 class="text-lg font-bold text-text-main mb-2">Nessun meme oggi!</h3>
        <p class="text-text-muted">La giornata è appena iniziata, torna più tardi per scoprire il meme del giorno.</p>
      </div>
    }

  </div>
</div>